<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>⏳ 10‑sec quiz · 5 MCQ with timer</title>
<style>
* {
box-sizing: border-box;
font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
}
body {
min-height: 100vh;
margin: 0;
background: linear-gradient(145deg, #f6f9fc 0%, #e6f0f5 100%);
display: flex;
justify-content: center;
align-items: center;
}
.quiz-panel {
max-width: 700px;
width: 90%;
background: rgba(255,255,255,0.8);
backdrop-filter: blur(8px);
-webkit-backdrop-filter: blur(8px);
border-radius: 36px;
padding: 2rem 2rem 2.2rem;
box-shadow: 0 25px 40px -12px rgba(0,20,40,0.35),
0 2px 6px rgba(0,0,0,0.05);
border: 1px solid rgba(255,255,255,0.5);
}
h1 {
font-size: 2.1rem;
font-weight: 600;
margin: 0 0 0.3rem 0;
letter-spacing: -0.5px;
background: linear-gradient(135deg, #0B3B5C, #1B5E7A);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}
.timer-bar {
background: #d9e6f2;
border-radius: 60px;
padding: 0.9rem 1.8rem;
margin: 0.8rem 0 1.8rem 0;
display: flex;
align-items: baseline;
justify-content: space-between;
flex-wrap: wrap;
gap: 12px 10px;
box-shadow: inset 0 2px 6px rgba(0,0,0,0.05), 0 6px 12px rgba(0,30,50,0.1);
border: 1px solid #c2d6e8;
}
.timer-display {
font-size: 2.4rem;
font-weight: 700;
font-family: 'JetBrains Mono', monospace;
background: #0f2b3b;
color: #f2fffc;
padding: 0.3rem 1.2rem;
border-radius: 50px;
line-height: 1;
letter-spacing: 2px;
box-shadow: 0 4px 0 #05161f;
}
.warning {
font-size: 1.3rem;
font-weight: 550;
background: #fff3cf;
padding: 0.3rem 1.4rem;
border-radius: 40px;
border-left: 5px solid #dc8400;
color: #6b3f00;
transition: all 0.2s;
}
.question-box {
background: #ffffffdb;
border-radius: 28px;
padding: 1.2rem 1.8rem;
margin: 1.6rem 0 1.8rem 0;
box-shadow: 0 8px 18px -8px #1a3b4d33;
border: 1px solid white;
}
.q-text {
font-weight: 600;
font-size: 1.25rem;
margin: 0 0 0.9rem 0.1rem;
color: #0b3a4b;
}
.options {
display: flex;
flex-direction: column;
gap: 0.8rem;
}
.option-item {
display: flex;
align-items: center;
background: #f2f8ff;
padding: 0.5rem 1.4rem 0.5rem 1rem;
border-radius: 60px;
border: 1.5px solid transparent;
transition: 0.1s;
cursor: pointer;
}
.option-item:hover {
background: #e2effa;
border-color: #8ab3cf;
}
input[type="radio"] {
appearance: none;
-webkit-appearance: none;
width: 1.4rem;
height: 1.4rem;
border: 2px solid #2f6d8f;
border-radius: 50%;
margin-right: 1rem;
transition: 0.1s;
background: white;
}
input[type="radio"]:checked {
background: #1b6b98;
border-color: #1b6b98;
box-shadow: inset 0 0 0 4px white;
}
input[type="radio"]:disabled {
opacity: 0.45;
border-color: #6b8b9c;
background: #d0dee8;
}
.option-text {
font-size: 1.1rem;
color: #132e3c;
font-weight: 450;
flex: 1;
}
.action-row {
display: flex;
justify-content: space-between;
align-items: center;
margin-top: 1.6rem;
}
button {
background: #0d4057;
color: white;
font-size: 1.4rem;
font-weight: 600;
padding: 0.8rem 2.6rem;
border: none;
border-radius: 60px;
letter-spacing: 0.5px;
box-shadow: 0 8px 0 #06212e, 0 10px 20px -5px #0b3b50;
cursor: pointer;
transition: 0.07s linear;
}
button:active {
transform: translateY(6px);
box-shadow: 0 2px 0 #06212e, 0 8px 16px -4px #0b3b50;
}
button:disabled {
opacity: 0.5;
transform: translateY(4px);
box-shadow: 0 4px 0 #06212e, 0 6px 12px -4px #0b3b50;
pointer-events: none;
}
.score-badge {
background: #1e6d5e;
color: white;
font-size: 2rem;
font-weight: 700;
padding: 0.5rem 2rem;
border-radius: 60px;
box-shadow: 0 6px 0 #0c3d34;
}
.foot-note {
color: #3b5e71;
margin-top: 1.2rem;
font-size: 0.95rem;
text-align: right;
font-weight: 400;
}
.disable-interaction {
pointer-events: none;
opacity: 0.85;
}
hr {
border: 1px solid #bed6e5;
margin: 1.8rem 0 0.8rem 0;
}
</style>
</head>
<body>
<div class="quiz-panel" id="quizContainer">
<h1>⚡ 5 questions · 10 seconds</h1>
<div class="timer-bar">
<span class="timer-display" id="timerDisplay">10s</span>
<span class="warning" id="warningMsg"></span>
</div>

<!-- Questions will be injected via JavaScript -->
<div id="questionsArea"></div>

<div class="action-row">
<button id="submitBtn">⏎ submit now</button>
<div id="finalScoreDisplay" class="score-badge" style="background:#336b84;">___</div>
</div>
<hr>
<div class="foot-note">⏲️ auto‑submit at 0s · disables after finish</div>
</div>

<script>
(function() {
// ----- QUIZ DATA (5 MCQs) -----
const questions = [
{
text: "1. What does JS stand for?",
options: ["JavaScript", "JavaStyle", "JustScript", "JQuery"],
correct: 0 // index 0 -> "JavaScript"
},
{
text: "2. Which method is used to stop an interval?",
options: ["clearInterval()", "stopInterval()", "clearTimer()", "removeInterval()"],
correct: 0 // clearInterval()
},
{
text: "3. Which of the following is a DOM method?",
options: ["getElementById()", "querySelectorAll()", "Both A and B", "createElement"],
correct: 2 // Both A and B (index 2)
},
{
text: "4. setInterval() returns …?",
options: ["a numeric id", "a boolean", "a string", "the interval function"],
correct: 0 // numeric id
},
{
text: "5. How to disable all radio inputs?",
options: ["set disabled=true", "disable property", "element.disabled = true", "All of the above"],
correct: 3 // All of the above
}
];

// ----- State -----
let timeLeft = 10; // total seconds
const totalTime = 10;
let timerInterval = null;
let quizSubmitted = false; // becomes true after submit / time out
let warningShownFor5 = false; // to show "Only 5 seconds remaining!" only once

// DOM elements
const timerEl = document.getElementById('timerDisplay');
const warningEl = document.getElementById('warningMsg');
const questionsArea = document.getElementById('questionsArea');
const submitBtn = document.getElementById('submitBtn');
const finalScoreEl = document.getElementById('finalScoreDisplay');

// Render questions dynamically (with name attributes grouped per question)
function renderQuestions() {
let htmlStr = '';
questions.forEach((q, idx) => {
// each group gets a unique name like "q0", "q1" ...
const groupName = `q${idx}`;
htmlStr += `<div class="question-box" id="question-${idx}">`;
htmlStr += `<div class="q-text">${q.text}</div>`;
htmlStr += `<div class="options">`;

q.options.forEach((opt, optIdx) => {
const optionId = `opt_${idx}_${optIdx}`;
htmlStr += `<label class="option-item" for="${optionId}">`;
htmlStr += `<input type="radio" name="${groupName}" id="${optionId}" value="${optIdx}" data-qidx="${idx}" data-oidx="${optIdx}">`;
htmlStr += `<span class="option-text">${opt}</span>`;
htmlStr += `</label>`;
});

htmlStr += `</div></div>`; // close options & question-box
});
questionsArea.innerHTML = htmlStr;
}

// Helper: get all radio inputs (NodeList)
function getAllRadioInputs() {
return document.querySelectorAll('input[type="radio"]');
}

// Disable all radio options (after submit / timeout)
function disableAllOptions() {
const radios = getAllRadioInputs();
radios.forEach(radio => radio.disabled = true);
}

// Calculate score based on selected options vs correct answers
function calculateScore() {
let correctCount = 0;
for (let qIdx = 0; qIdx < questions.length; qIdx++) {
const radios = document.getElementsByName(`q${qIdx}`);
let selectedValue = null;
for (let radio of radios) {
if (radio.checked) {
selectedValue = radio.value; // string like "0", "1" ...
break;
}
}
// compare with correct index (convert to number)
if (selectedValue !== null && Number(selectedValue) === questions[qIdx].correct) {
correctCount++;
}
}
return correctCount;
}

// Display final score and update the big badge
function showFinalScore() {
const score = calculateScore();
finalScoreEl.textContent = `${score} / 5`;
finalScoreEl.style.background = '#1a6b5e'; // success color
}

// --- function that handles quiz termination (auto or manual) ---
function finishQuiz(origin = 'auto') {
// prevent multiple calls
if (quizSubmitted) return;
quizSubmitted = true;

// 1. stop timer
if (timerInterval) {
clearInterval(timerInterval);
timerInterval = null;
}

// 2. disable all options
disableAllOptions();

// 3. display final score
showFinalScore();

// 4. optional: update timer if called by timeout (already 0s) but keep warning
if (timeLeft <= 0) {
timerEl.textContent = '0s';
warningEl.textContent = '⏰ time expired!';
} else {
// if manually submitted before time, show "submitted"
warningEl.textContent = '✓ quiz submitted';
}

// 5. disable submit button as well (optional but clean)
submitBtn.disabled = true;
}

// --- update timer & warning, check expiry ---
function updateTimerAndCheck() {
// decrement time
timeLeft--;
timerEl.textContent = timeLeft + 's';

// show 5‑second warning exactly once (when timer hits 5)
if (timeLeft === 5 && !warningShownFor5) {
warningEl.textContent = '⚠️ Only 5 seconds remaining!';
warningShownFor5 = true;
}

// edge: if timeLeft becomes 0, finish quiz
if (timeLeft <= 0) {
// ensure we display 0 and warning
timerEl.textContent = '0s';
if (!warningShownFor5 && timeLeft === 0) {
// (if somehow 5 was skipped, but we keep generic)
warningEl.textContent = '⚠️ Only 5 seconds remaining!'; // but better show expired
}
// but final warning after 0: "time expired!"
warningEl.textContent = '⏰ 0s — quiz auto‑submitted';

// stop interval and finish (only once)
if (!quizSubmitted) {
finishQuiz('auto');
}
}
}

// --- start timer using setInterval ---
function startTimer() {
if (timerInterval) clearInterval(timerInterval); // safety
timerInterval = setInterval(() => {
updateTimerAndCheck();
}, 1000);
}

// --- reset / initial load (first time) ---
function initQuiz() {
// render questions
renderQuestions();

// reset state variables
timeLeft = totalTime;
quizSubmitted = false;
warningShownFor5 = false;
timerEl.textContent = totalTime + 's';
warningEl.textContent = ''; // clear warning
finalScoreEl.textContent = '___';
finalScoreEl.style.background = '#336b84'; // neutral

// enable submit button
submitBtn.disabled = false;

// remove any disabled from radios (in case of re-init, but not needed first time)
const radios = getAllRadioInputs();
radios.forEach(radio => radio.disabled = false);

// clear any previous interval
if (timerInterval) {
clearInterval(timerInterval);
timerInterval = null;
}

// start fresh timer
startTimer();
}

// --- Event listener for manual submit button ---
submitBtn.addEventListener('click', function() {
if (quizSubmitted) return; // already finished
finishQuiz('manual');
});


initQuiz();


const header = document.querySelector('h1');
header.addEventListener('dblclick', function(e) {
if (confirm('Restart quiz? (timer reset to 10s)')) {
initQuiz();
}
});
})();
</script>

</body>
</html>